"use strict";function insertAtCaret(e,t){var n=document.getElementById(e),a=n.scrollTop,r=0,c=n.selectionStart||"0"==n.selectionStart?"ff":document.selection?"ie":!1;if("ie"==c){n.focus();var i=document.selection.createRange();i.moveStart("character",-n.value.length),r=i.text.length}else"ff"==c&&(r=n.selectionStart);var o=n.value.substring(0,r),l=n.value.substring(r,n.value.length);if(n.value=o+t+l,r+=t.length,"ie"==c){n.focus();var i=document.selection.createRange();i.moveStart("character",-n.value.length),i.moveStart("character",r),i.moveEnd("character",0),i.select()}else"ff"==c&&(n.selectionStart=r,n.selectionEnd=r,n.focus());n.scrollTop=a}function inject_email_template(e,t){$.each(t,function(t,n){t=t.replace("email_template_",""),n&&e.indexOf(t)>-1&&$("#"+t).val(n)})}$(document).ready(function(){var e=$("html").outerHeight(),t=$(".navbar").outerHeight(),n=$("#headerbar").outerHeight(),a=e-t-n;$("#content").outerHeight()<a&&$("#content").outerHeight(a),$("html").click(function(){$(".dropdown-menu:visible").not(".datepicker").removeAttr("style")});var r;$(".text-tag").bind("click",function(){var e=this.getAttribute("data-tag");return insertAtCaret(r.id,e),!1}),$(".taggable").on("focus",function(){r=this})});